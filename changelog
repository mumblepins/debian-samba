samba (3.9.0+SVN12857-1) experimental; urgency=low

  * Add sections to binary packages to match the archive:
    * libparse-pidl-perl: perl
    * samba-dev: devel
    * samba-gtk-frontends: x11
  * Adjust our export procedure we get the Subversion revision number in
    include/version.h (and thus in the build itself), and document how in
    README.building.

 -- Steinar H. Gunderson <sesse@debian.org>  Thu, 12 Jan 2006 00:57:41 +0100

samba (3.9.0+SVN12856-1) experimental; urgency=low

  * New upstream version.
  * Move testparm from samba into samba-common.
    * Make samba-common Architecture: any.
    * Make samba-common replace/conflict samba (<= 3.9.0+SVN12739-1).
  * Make samba-clients depend on samba-common.
  * Make samba-common depend on debconf.
  * Replace debconf dependencies with ${misc:Depends}, to automatically
    get the debconf-2.0 alternative right.
  * Include the newuser binary in samba-server package.
  * Add missing Build-Depends on: libgnutls-dev, libreadline5-dev,
    libpam0g-dev. All were causing silent build failures (ie. the package
    was simply built without the features).
  * Remove Build-Depends on libldap-dev.
  * Include NEWS file.

 -- Steinar H. Gunderson <sesse@debian.org>  Wed, 11 Jan 2006 22:08:32 +0100

samba (3.9.0+SVN12739-1) experimental; urgency=low

  * Move /usr/lib/samba/setup from samba-common to samba.
    * Make samba replace samba-common (<= 3.9.0+SVN12726-1)
  * Add a missing db_stop in samba.postinst, probably causing problems
    starting the daemon in some cases.
  * Add orphan files from /usr/bin (and relevant manpages) into their
    correct packages:
    * ldb-tools: ldbrename, ldbtest, oLschema2ldif.
    * samba: ntlm_auth.
    * samba-clients: getntacl.
    * samba-gtk-frontends: gwcrontab.
    * winregistry-tools: winreg.
    * samba3dump and tdbtorture remain orphans.
  * Add new executable /usr/bin/testparm to samba package.
    * Add /var/lib/samba directory to samba package; it's needed by
      testparm.
  * Rewrite configuration/bootstrapping to be able to install the client
    only and still get a usable smb.conf. The basic idea is:
    * samba-common looks for an smb.conf. If there is none, it asks for
      realm and domain and generates a skeleton smb.conf.
    * If samba notices an upgrade from Samba 3, it asks whether the user
      wants to upgrade. If not, it leaves everything alone (and broken).
    * Otherwise, samba asks whether the user wants to set up a PDC. If yes,
      it adds "server role = pdc" to smb.conf and provisions the server.
  * Removed unused file samba.conffiles.
  * Run dh_installdebconf on architecture-independent packages as well, now
    that samba-common has a config script.
  * Let samba-clients conflict/replace samba-common (<< 3.9.0), as they share
    /usr/bin/net.

 -- Steinar H. Gunderson <sesse@debian.org>  Fri,  6 Jan 2006 14:25:50 +0100

samba (3.9.0+SVN12726-1) experimental; urgency=low

  * First upload to Debian main.

  * Package renaming to get more in line with Samba 3 packaging:
    * Rename samba-server package to just samba, for consistency with the
      Samba 3 packaging.
      * Rename samba.samba.init to samba.init, now that the init script and the
        server package are called the same.
    * Rename samba-swat to swat, and add a dependency from swat to samba.

  * debian/rules changes:
    * Change SOURCEPATH to reflect that we now have the packaging in debian/,
      not packaging/debian/. This will have to be reverted whenever upstream
      syncs with us.
    * Removed debmake comment, it's hardly relevant any more.
    * Removed comment that there aren't any architecture-independent packages
      (because there are).
    * Remove redundant "package=samba" variable.
    * Do "make pch ; make all" instead of "make proto ; -make pch ; make all";
      some build system bug prevents us from just doing "make pch all", but
      since we're more or less guaranteed a recent gcc version, the pch target
      shouldn't fail, so we won't allow it to.
    * Remove autogen.sh call from configure; it should be done in the
      upstream tarball, not in maintainer scripts.

  * debian/control changes:
    * Copied Uploaders: line from Samba 3 packaging, adding myself.
    * Rename samba-client package to samba-clients.
    * Make samba-clients Replaces/Conflicts smbclient.
    * Build-depend on docbook-xml, not just docbook-xsl -- the documentation
      needs data from both to build.
    * Move the samba binary package to the top, so it's the one receiving
      the README.* files, among others.

  * Maintainer script changes:
    * Attempt to upgrade from Samba 3 if that's what the user tries to do.
      * Copy upgrade script into /usr/lib/samba/setup.
      * Check for upgrade from << 3.9.0 in config, and ask the user for upgrade
        if relevant.
      * Check for upgrade from << 3.9.0 in postinst, and upgrade if the user
        wished to.
    * Only provision in samba.postinst if we're doing a fresh install.
    * Support purging properly in postrm, both for samba and samba-common
      (adapted from the Samba 3 packaging).
    * Don't ask about an administrator password -- just let the provisioning
      scripts make up a random one.
      * Updated README.Debian to show the user how to change the password.
      * Make samba recommend ldb-tools.
    * Install README.building along with all the other documentation.
    * Don't try to ask about the "done" question, which we nuked in a previous
      release.

  * Updated debian/copyright.
    * Added Samba copyright holders.
    * Noted that talloc, ldb and tdb are under the LGPL.
    * Added copyright holders and licensing for the packaging itself.

  * Remove a few unused files in the packaging.
  * Change debhelper compatibility level to 5.
    * Update versioned depends accordingly.
  * Don't give --pidfile to start-stop-daemon when stopping -- current
    versions of Samba 4 won't die when the parent is killed.
  * Updated README.debian somewhat, and renamed to use a capital D.
  * Rewritten README.building, to reflect the magic that has to be done
    with the package in another repository.
  * Update po/POTFILES.in to reflect name change (from samba4-server ->
    samba-server -> samba).

 -- Steinar H. Gunderson <sesse@debian.org>  Thu,  5 Jan 2006 21:27:13 +0100

samba (3.9.0+SVN12395-1) unstable; urgency=low

  * New snapshot, drop 4 suffix

 -- Jelmer Vernooij <jelmer@samba.org>  Tue, 20 Dec 2005 13:38:26 +0100

samba4 (3.9.0+SVN12312-1) unstable; urgency=low

  * New upstream snapshot.

 -- Jelmer Vernooij <jelmer@samba.org>  Mon, 27 Jun 2005 11:25:57 +0200

samba4 (3.9.0-SVN-build-6710-1) unstable; urgency=low

  * Newer upstream version

 -- Jelmer Vernooij <jelmer@samba.org>  Thu, 12 May 2005 14:04:05 +0200

samba4 (3.9.0-SVN-build-655-1) unstable; urgency=low

  * Initial release.

 -- Jelmer Vernooij <jelmer@samba.org>  Thu, 13 May 2004 01:38:41 +0200
