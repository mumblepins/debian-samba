Index: samba-3.0.23pre1/source/python/py_tdb.c
===================================================================
--- samba-3.0.23pre1.orig/source/python/py_tdb.c	2005-07-28 15:19:41.000000000 +0200
+++ samba-3.0.23pre1/source/python/py_tdb.c	2006-05-25 09:07:34.719135744 +0200
@@ -494,7 +494,7 @@
 	if (!PyArg_ParseTuple(args, "s|i", &s, &timeout))
 		return NULL;
 
-	result = tdb_lock_bystring(obj->tdb, s, timeout);
+	result = tdb_lock_bystring_with_timeout(obj->tdb, s, timeout);
 
 	return PyInt_FromLong(result != -1);
 }
