Goal:  Fix missing symbols in libsmbclient (and libnss_wins), and add
       -Wl,-z,defs to the libsmbclient link options to prevent future
       instances of undefined symbols

Fixes: #281181

Status wrt upstream: Not forwarded. Should be once there is a configure test 
for it.

Note: 

Index: samba-3.0.25rc3/source/Makefile.in
===================================================================
--- samba-3.0.25rc3.orig/source/Makefile.in	2007-05-06 13:59:03.000000000 -0700
+++ samba-3.0.25rc3/source/Makefile.in	2007-05-06 14:01:03.000000000 -0700
@@ -1161,7 +1161,7 @@
 
 bin/libsmbclient.@SHLIBEXT@: proto_exists $(LIBSMBCLIENT_OBJ)
 	@echo Linking libsmbclient shared library $@
-	@$(SHLD) $(LDSHFLAGS) -o $@ $(LIBSMBCLIENT_OBJ) $(LIBS) \
+	@$(SHLD) $(LDSHFLAGS) -Wl,-z,defs -o $@ $(LIBSMBCLIENT_OBJ) $(LIBS) \
 		$(KRB5LIBS) $(LDAP_LIBS) $(NSCD_LIBS) \
 		@SONAMEFLAG@`basename $@`.$(LIBSMBCLIENT_MAJOR)
 
